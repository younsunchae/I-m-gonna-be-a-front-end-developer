## 3.2.1 메모리 계층

메모리계층은 `레지스터, 메모리, 저장장치`로 구성되어 있다.<br/>

- 레지스터 : CPU 안에 있는 작은 메모리, 휘발성, 속도 가장 빠름, 기억 용량이 가장 적다.
- 캐시 : L1, L2 캐시를 지칭
- 주기억장치 : RAM, 휘발성, 속도 보통, 기억 용량 보통
- 보조기억장치 : HDD, SSD, 비휘발성
  램은 하드디스크로부터 일정량의 데이터를 복사해서 임시 저장하고 이를 필요시 마다 CPU에 빠르게 전달, 계층 위로 올라갈수록 가격은 비싸지고 용량은 작아지고 속도는 빨라진다.<br/>

### 🥐 캐시

데이터를 미리 복사해 놓는 임시 저장소 <br/>
메모리와 CPU 사이의 속도 차이가 너무 크기 때문에 그 중간에 레지스터 계층을 둬서 속도 차이를 해결.<br/>

## 🍞 웹브라우저의 캐싱

사용자의 커스텀한 정보나, 인증 모듈 관련 사항들을 웹 브라우저에 저장해서 추후 서버에 요청할 때 자신을 나타내는 아이덴티티나 중복 요청 방지를 위해 쓰임.<br/>

### 🥐 쿠키

쿠키는 만료기한이 있는 키-값 저장소<br/>

### 🥐 로컬 스토리지

만료기한이 없는 키-값 저장소, 클라이언트에서만 수정 가능

### 🥐 세션 스토리지

만료기한이 없는 키-값 저장소, 탭 단위로 세션 스토리지를 생성, 탭을 닫을 때 해당 데이터가 삭제, 클라이언트에서만 수정 가능

## 3.2.2 메모리 관리

### 🍞 가상메모리

메모리 관리 기법의 하나로 컴퓨터가 실제로 이용 가능한 메모리 자원을 추사오하하여 이를 사용하는 사용자들에게 매우 큰 메모리로 보이게 만드는 것을 말한다.<br/>

가상적으로 주어진 주소를 `가상 주소`라고 하며, 실제 메모리상에 있는 주소를 `실제 주소`라고 한다. 가상 주소는 메모리관리장치에 의해 실제 주소로 변환되며, 이 덕분에 사용자는 실제 주소를 의식할 필요없이 프로그램을 구축할 수 있다.<br/>
가상 메모리는 가상 주소와 실제 주소가 매핑되어 있고 프로세스의 주소 정보가 들어 있는 `페이지 테이블`로 관리한다. 이때 속도 향상을 위해 `TLB`를 사용한다.<br/>

> ### 🥐 TLB
>
> 메모리와 CPU t사이에 있는 주소 변환을 위한 캐시

### 🍞 스레싱

메모리의 페이지 폴트율이 높은 것 <br/>
스레싱은 메모리에 너무 많은 프로세스가 동시에 올라가게 되면 스와핑이 많이 일어나서 발생한다.<br/>

#### 🥐 작업세트

프로세스의 과거 사용 이력인 지역성을 통해 결정된 페이지 집합을 만들어서 미리 메모리에 로드

#### 🥐 PFF

페이지 폴트 빈도를 조절하는 방법으로 상한선과 하한선을 만드는 방법

### 🍞 메모리 할당

메모리에 프로그램을 할당할 때는 시작 메모리 위치, 메모리의 할당 크키를 기반으로 할당하는데 연속할당과 불연속 할당으로 나뉜다.<br/>

#### 🥐 연속 할당

메모리에 연속적으로 공간을 할당

#### 🥨 고정 분할 방식

메모리를 미리 나누어 관리하는 방식, 메모리가 미리 나뉘어 있기 때문에 융통성이 없으며 `내부 단편화`가 발생한다.

#### 🥨 가변 분할 방식

매 시점 프로그램의 크기에 맞게 동적으로 메모리를 나눠서 사용, 내부 단편화는 발생하지 않지만 `외부 단편화`가 발생할 수 도 있다.

- 최초 적합 : 위쪽이나 아래쪽부터 시자갷서 홀을 찾으면 바로 할당
- 최적 적합 : 프로세스의 크기 이상인 공간 중 가장 작은 홀부터 할당
- 최악 적합 : 프로세스의 크기와 가장 많이 차이가 나는 홀에 할당

> #### 🥨 내부 단편화
>
> 메모리를 나눈 크기보다 프로그램이 작아서 들어가지 못하는 공간이 많이 발생
>
> #### 🥨 외부 단편화
>
> 메모리를 나눈 크기보다 프로그램이 커서 들어가지 못하는 공간이 많이 발생
>
> #### 🥨 홀
>
> 할당할 수 있는 비어 있는 메모리 공간

#### 🥐 불연속할당

메모리를 연속적으로 할당하지 않는 불연속 할당은 현대 운영체제가 쓰는 방법이다. <br/>

- 페이징 : 동일한 크기의 페이지 단위로 나누어 메모리의 서로 다른 위치에 프로세스를 할당
- 세그멘테이션 : 페이지 단위가 아닌 의미 단위인 세그먼트로 나누는 방법, 공유와 보안 측면에서는 좋지만 홀 크기가 균일하지 않은 문제가 발생
- 페이지드 세크멘테이션 : 공유나 보안을 의미 단위의 세그머트로 나누고, 물리적 메모리는 페이지로 나누는 것
