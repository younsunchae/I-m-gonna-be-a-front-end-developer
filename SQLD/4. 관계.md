# 관계

- 엔터티 간의 관련성

## 관계의 종류

### 1. 존재 관계

- 엔터티 간의 상태
- 두 개의 엔터티가 존재 여부의 관계가 있는 것

ex) 고객이 은행에 회원가입을 하면 관리점이 할당되고, 그 할당된 관리점에서 고객을 관리한다.

### 2. 행위 관계

- 엔터티 간에 어떤 행위가 있는 것
- 두 개의 엔터티가 어떤 행위에 의한 관련성이 있는 것

ex) 증권회사는 계좌를 개설하고 주문을 발주하는 것

## 관계 차수

두 개의 엔터티 간에 관계에 참여하는 수

### 관계 차수의 종류

#### 1. 1:1 관계

- 완전 1대1 관계 : 하나의 엔터티에 간계되는 엔터티의 관계가 하나인 경우로 반드시 존재한다.
- 선택적 1대1 관계 : 하나의 엔터티에 간계되는 엔터티의 관계가 하나이거나 없을 수도 있다.

#### 2. 1:N 관계

- 엔터티에 행이 하나 있을 때 다른 엔터티의 값이 여러개 있는 관계

#### 3. M:N 관계

- 두 개의 엔터티가 서로 여러 개의관계를 가지고 있는 것
- 관계형 데이터베이스에서 M대N 관계의 조인은 카테이산 곱이 발생한다. 그래서 엔터티를 추가적으로 도출하는 방식으로 M대N 관계를 1대N, N대1로 해소해야 한다.

> ### 카테시안 곱
>
> 각 릴레이션에 존재하는 모든 데이터를 조합하여 연산하는 것

#### 4. 선택적 관계와 필수적 관계

##### 필수적 관계

- 반드시 하나가 있어야 하는 관계
- `|`
- ex) 고객이 있어야 계좌를 개설할 수 있다.

##### 선택적 관계

- 없을 수도 있는 관계
- `O`
- ex) 고객은 있지만, 계좌가 없을 수도 있다.

## 식별 관계와 비식별 관계

### 1. 식별 관계

- 강한 개체는 어떤 다른 엔터티에게 의존하지 않고 독립적으로 존재한다.
- 강한 개체는 다른 엔터티와 간계를 가질 때 다른 엔터티에게 기본키를 공유한다.
- 강한 개체는 식별 관계로 표현한다.
- 강한 객체의 기본키 값이 변경되면 식별 관계(기본 키를 공유 받은=약한 개체)에 있는 엔터티의 값도 변경된다.

### 2. 비식별 관계

- 강한 개체의 기본키를 다른 엔터티의 기본키가 아닌 일반 칼럼으로 관계를 가지는 것
- 비식별 관계는 점선으로 표현.

> ### 강한(Strong) 개체
>
> 누구에게도 지배되지 않는 독립적인 개체

> ### 약한(Weak) 개체
>
> 개체의 존재가 다른 개체의 존재에 달려 있는 개체
